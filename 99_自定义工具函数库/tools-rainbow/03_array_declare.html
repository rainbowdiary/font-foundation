<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    Array.prototype.map = function (cb) {
      // 遍历数组每一个元素，并调用函数得到一个结果数据，添加到新数组arr
      console.log("map");
      let arr = []
      for (let index = 0; index < this.length; index++) {
        const element = this[index];
        const result = cb(element, index)
        arr.push(result)
      }
      return arr
    }

    Array.prototype.reduce = function (cb, initValue) {
      console.log("reduce");
      let total = initValue
      for (let index = 0; index < this.length; index++) {
        const element = this[index];
        total = cb(total, element, index)
        // console.log(total);
      }
      return total
    }

    Array.prototype.filter = function (cb) {
      console.log("filter");
      let arr = []
      for (let index = 0; index < this.length; index++) {
        const element = this[index];
        const result = cb(element, index)
        // arr.push(result)
        result ? arr.push(element) : ""
      }
      return arr
    }
    // 遍历每一个的元素,找到满足条件的第一个元素，为true返回当前元素，全部为false，返回undefined
    Array.prototype.find = function (cb) {
      console.log("find");
      for (let index = 0; index < this.length; index++) {
        const element = this[index];
        let result = cb(element, index)
        if (result) {
          return element
        }
      }
      return undefined
    }

    Array.prototype.findIndex = function (cb) {
      console.log("findIndex");
      for (let index = 0; index < this.length; index++) {
        const element = this[index];
        let result = cb(element, index)
        if (result) {
          return index
        }
      }
      return -1
    }

    Array.prototype.every = function (cb) {
      console.log("every");
      for (let index = 0; index < this.length; index++) {
        const element = this[index];
        let result = cb(element, index)
        if (!result) {
          return false
        }
      }
      return true
    }

    Array.prototype.some = function (cb) {
      console.log("some");
      for (let index = 0; index < this.length; index++) {
        const element = this[index];
        const result = cb(element, index)
        if (result) {
          return true
        }
      }
      return false
    }
  </script>
  <script>
    const arr = [1, 3, 6, 9, 15, 19, 16]
    // 需求:
    //     1. 产生一个每个元素都比原来大10的新数组
    console.log(arr.map((item, index) => item + 10));
    //     2. 得到所有奇数的和
    console.log(arr.reduce((preTotal, item, index) => {
      return preTotal + (item % 2 === 1 ? item : 0)
    }, 0));
    //     3. 得到值大于8且下标是偶数位的元素组成的数组
    console.log(arr.filter((item, index) => index % 2 === 0 && item > 8));
    //     4. 找出一个值大于8且下标是偶数位的元素
    console.log(arr.find((item, index) => item > 8 && index % 2 === 0));
    //     5. 找出一个值大于8且下标是偶数位的元素的下标
    console.log(arr.findIndex((item, index) => item > 8 && index % 2 === 0));
    //     6. 判断下标为偶数的元素是否都为奇数
    console.log(arr.every((item, index) => index % 2 === 1 || (index % 2 === 0 && item % 2 === 1)));
    //     7. 判断是否有下标为偶数的元素值为奇数
    console.log(arr.some((item, index) => index % 2 === 1 || (index % 2 === 0 && item % 2 === 1)));

  </script>
</body>

</html>
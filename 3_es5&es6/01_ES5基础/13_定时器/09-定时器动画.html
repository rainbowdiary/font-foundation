<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box{
				width: 100px;
				height: 100px;
				background: yellowgreen;
				position: absolute;
				left:0;
				top:100px;
			}
		</style>
	</head>
	<body>
		<button>走你</button>
		<button>停止</button>
		<div id="box"></div>
		<script type="text/javascript">
			/*
			 * 定时器累加: 每单击按钮,都会开启一个定时器,此时会造成多个定时器在为一个元素工作,
			 * 叫做定时器累加,为了避免这种情况
			 * 解决方案:
			 * 在开启一个新的定时器之前,先把上一次的关闭掉,保证只有一个定时器在工作
			 */
			var btns = document.getElementsByTagName('button');
			var box = document.getElementById('box');
			var timer = null;
			var num = 0;
			btns[0].onclick = function(){
				//在开启之前先关闭定时器
				clearInterval(timer);
				//开启定时器
				timer = setInterval(function(){
					//累加器每次自加3
					num = num+3;
					//设置给box的left属性
					box.style.left = num+'px';
				},30);
			}
			btns[1].onclick = function(){
				//关闭定时器
				clearInterval(timer);
			}
		</script>
	</body>
</html>



# 点击穿透

1. 发生的原因

```
移动端会模拟鼠标动作； 在触摸事件发生300ms之后，默认鼠标事件
在移动端监听鼠标事件，会有延迟

条件：
上层元素监听触摸事件，一旦触发触摸事件，上层元素消失；300ms，浏览器产生了鼠标动作，而此时上层元素没有了，鼠标动作作用在下层元素
```

```
动作； 不论监听与否，动作都会发生；
监听这个动作；
```

2. 解决点击穿透

```
1. 上层元素监听的触摸事件里，阻止默认行为
2. 阻止所有元素的默认行为，document监听触摸事件；
	移动所有的浏览器行为都是基于触摸的
	任何元素的触摸动作都会冒泡到document上
3. 下层元素使用没有点击特性的元素
4. 利用css的 pointer—event，设置为none,元素没有点击特性。
5. 让上层元素延迟300ms之后再消失
```


## 阻止浏览器默认行为
```
document 监听触摸事件。阻止默认动作；但是chrome不建议，需要设置 {passive: false}
document、window、html、body 触摸事件中阻止默认行为，默认都会报错

自定义包裹元素，在包裹元素的触摸事件中阻止默认行为
```

### 产生影响

```
1. 不会模拟click动作， 不会发生点击穿透、超链接失效了、提交按钮失效
2. 输出框无法通过点击获取焦点  focus()
3. 文本长按无法选中
4、 内容无法滑动 （无法滚动条滑动）
5. 下滑，页面没有空白
6. ios中的浏览器无法进行用户缩放
```